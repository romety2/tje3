<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--

    DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS HEADER.

    Copyright (c) 2008-2010 Oracle and/or its affiliates. All rights reserved.

    The contents of this file are subject to the terms of either the GNU
    General Public License Version 2 only ("GPL") or the Common Development
    and Distribution License("CDDL") (collectively, the "License").  You
    may not use this file except in compliance with the License.  You can
    obtain a copy of the License at
    https://glassfish.dev.java.net/public/CDDL+GPL_1_1.html
    or packager/legal/LICENSE.txt.  See the License for the specific
    language governing permissions and limitations under the License.

    When distributing the software, include this License Header Notice in each
    file and include the License file at glassfish/bootstrap/legal/LICENSE.txt.

    GPL Classpath Exception:
    Oracle designates this particular file as subject to the "Classpath"
    exception as provided by Oracle in the GPL Version 2 section of the License
    file that accompanied this code.

    Modifications:
    If applicable, add the following below the License Header, with the fields
    enclosed by brackets [] replaced by your own identifying information:
    "Portions Copyright [year] [name of copyright owner]"

    Contributor(s):
    If you wish your version of this file to be governed by only the CDDL or
    only the GPL Version 2, indicate your decision by adding "[Contributor]
    elects to include this software in this distribution under the [CDDL or GPL
    Version 2] license."  If you don't indicate a single choice of license, a
    recipient has the option to distribute your version of this file under
    either the CDDL, the GPL Version 2 or to extend the choice of license to
    its licensees as provided above.  However, if you add GPL Version 2 code
    and therefore, elected the GPL Version 2 license, then the option applies
    only if the new code is made subject to such option by the copyright
    holder.

-->

<html>
<head>
<meta http-equiv="Content-type" content="text/html; charset=UTF-8">
<title>Deshacer actualizaciones - Ayuda en l&iacute;nea de Update Tool</title>
<meta name="robots" content="index,follow">
<meta name="robots" content="index,follow">
<meta name="date" content="">
</head>

<body>



<a name="tasks-backing-out-updates"></a><h4> Deshacer actualizaciones</h4>

<p>La &quot;anulaci&oacute;n&quot; es el proceso de restaurar una aplicaci&oacute;n al estado en el que se encontraba antes de aplicar la actualizaci&oacute;n. Este proceso consiste en eliminar las versiones de los paquetes instalados como parte de la actualizaci&oacute;n e instalar a continuaci&oacute;n las versiones anteriores seleccionadas de esos paquetes.<p>

<p>La forma m&aacute;s eficaz de llevar a cabo una anulaci&oacute;n consiste en utilizar la interfaz de l&iacute;nea de comandos (CLI) de pkg(5). Sin embargo, antes de realizar una anulaci&oacute;n, debe consultar la documentaci&oacute;n de la actualizaci&oacute;n para asegurarse de que las personalizaciones implementadas se conservar&aacute;n tras la supresi&oacute;n y de que, al mismo tiempo, se reconocer&aacute;n durante la reinstalaci&oacute;n de la versi&oacute;n anterior del componente que desee.  En la mayor&iacute;a de los casos, los procesos de eliminaci&oacute;n y reinstalaci&oacute;n de componentes respetan las personalizaciones realizadas por el usuario; sin embargo, es recomendable leer la documentaci&oacute;n antes de deshacer cualquier actualizaci&oacute;n.</p>

<p> Tambi&eacute;n resulta recomendable realizar una copia de seguridad de todo el directorio de la imagen de instalaci&oacute;n.  Dado que los componentes instalados y la mayor&iacute;a, si no todas, de las personalizaciones asociadas est&aacute;n contenidos en el directorio de la imagen de instalaci&oacute;n com&uacute;n, hacer una copia de este directorio le proporcionar&aacute; una copia del estado de la instalaci&oacute;n anterior al proceso de retractaci&oacute;n.</p>

<p>Para realizar una anulaci&oacute;n mediante la interfaz de l&iacute;nea de comandos (CLI) de pkg(5), lleve a cabo estos pasos.</p>

<ol><li><p>Utilice el comando <font face="monospace"><b>pkg history -l</b></font> para mostrar un registro detallado de las actividades de actualizaci&oacute;n realizadas en la imagen de aplicaci&oacute;n.</p></li>
<li><p>Busque en el registro del historial la operaci&oacute;n <font face="monospace">image-update</font> que modific&oacute; los paquetes que desea anular.</p></li>
<li><p>Anote los paquetes que actualiz&oacute; la operaci&oacute;n <font face="monospace">image-update</font>. Anote las versiones antigua y nueva de cada uno de los paquetes. Por ejemplo, en la l&iacute;nea del registro del historial,</p>
<pre>pkg:/pkg-java@1.111,0-31.2172:20090608T230741Z -&gt; pkg:/pkg-java@1.111,0-32.2220:20090703T010710Z</pre>
<p>se indica que el paquete <font face="monospace">pkg-java</font> se actualiz&oacute; de la versi&oacute;n <font face="monospace">1.111,0-31.2172</font> a la versi&oacute;n <font face="monospace">1.111,0-32.2220</font>.</p></li>
<li><p>Introduzca un &uacute;nico comando <font face="monospace"><b>pkg uninstall</b></font>, especificando todos los paquetes que ha actualizado la operaci&oacute;n <font face="monospace">image-update</font>. Por ejemplo:</p>
<pre>$ <b>pkg uninstall pkg-java</b></pre></li>
<li><p>Introduzca un &uacute;nico comando <font face="monospace"><b>pkg install</b></font>, especificando todos los paquetes, incluidas sus versiones <b>anteriores</b>, que actualiz&oacute; la operaci&oacute;n <font face="monospace">image-update</font>. Por ejemplo:</p>
<pre>$ <b>pkg install pkg-java@1.111,0-31.2172</b></pre></li>
</ol>

</body>
</html>

